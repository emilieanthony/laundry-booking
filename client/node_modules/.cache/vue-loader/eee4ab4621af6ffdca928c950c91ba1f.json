{"remainingRequest":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emilieanthony/Projects/group-01-web/client/src/views/Note.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/emilieanthony/Projects/group-01-web/client/src/views/Note.vue","mtime":1634586873792},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaGVhZGVyM3sKICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHJnYmEoMywgMywgMywgMC43KSwgcmdiYSgzLCAzLCAzLCAwLjcpKSwgdXJsKC4uL2Fzc2V0cy9pbWctMTQuanBnKTsKICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgICBoZWlnaHQ6IDUwdmg7CiAgICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkOwogICAgY29sb3I6IHdoaXRlOwp9CgouaGVhZGVyMy10ZXh0ewpoZWlnaHQ6IDEwMCU7CmRpc3BsYXk6IGZsZXg7Cmp1c3RpZnktY29udGVudDogY2VudGVyOwphbGlnbi1pdGVtczogY2VudGVyOwpmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9CgouY29udGFpbmVyLW5vdGV7CmRpc3BsYXk6IGZsZXg7Cmp1c3RpZnktY29udGVudDogY2VudGVyOwpmbGV4LWRpcmVjdGlvbjogY29sdW1uOwptYXJnaW46IDM2cHg7Cn0KCi5ub3RlLWZvcm17CiAgbWFyZ2luOiA2NHB4Owp9CgouYnV0dG9uLWZvcm17Cm1hcmdpbjogMjRweCAwIGF1dG87CnBhZGRpbmc6IDhweDsKZGlzcGxheTogZmxleDsKanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CmFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5jb250YWluZXItY2FyZHN7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93OwogIGp1c3RpZnktc2VsZjogZmxleC1zdGFydCwgc3BhY2UtZXZlbmx5OwogIGZsZXgtd3JhcDogd3JhcDsKICBhbGlnbi1pdGVtczogc3RyZXRjaDsKICBhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0OwogIHJvdy1nYXA6IDIwcHg7CiAgY29sdW1uLWdhcDogMjBweDsKfQoKLmNhcmQtZ3JvdXB7CndpZHRoOiAzMiU7Cn0KCkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwNTBweCkgewogIC5jb250YWluZXItY2FyZHMgewogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICB9CiAgLmNhcmQtZ3JvdXAgewogICAgd2lkdGg6IDEwMCU7CiAgfQp9Cg=="},{"version":3,"sources":["Note.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Note.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container-note\">\n    <div class=\"header3\">\n      <div class=\"header3-text\">\n        <h1>Community Board</h1>\n        <p id=\"share\">Share your thoughts with your neighbours!</p>\n      </div>\n    </div>\n    <div class =\"note-form\">\n      <b-form @submit=\"addNote\">\n        <b-form-group id = \"input-group-1\" label =\"Headline\">\n          <b-form-input id= \"input-1\" v-model=\"form.headline\" type=\"text\" placeholder=\"Enter a headline\">\n          </b-form-input>\n        </b-form-group>\n        <b-form-group id =\"input-group-2\" label =\"Content\">\n          <b-form-textarea\n            id=\"textarea\"\n            v-model=\"form.content\"\n            placeholder=\"Enter something...\"\n            rows=\"3\"\n            max-rows=\"6\"\n          ></b-form-textarea>\n        </b-form-group>\n        <b-form-group id=\"input-group-3\" label=\"Name\">\n          <b-form-input v-model=\"form.writer\" type=\"text\" placeholder=\"Enter your name\"></b-form-input>\n        </b-form-group>\n        <b-button type=\"submit\" variant=\"info\">Add new note</b-button>\n      </b-form>\n  </div>\n  <div class=\"container-cards\">\n  <b-card-group v-for=\"(note, index) in notes\" :key=\"note._id\">\n    <b-card v-bind:title=\"note.headline\">\n      <b-icon-pencil-square v-on:click=\"setNoteEditMode(index)\"></b-icon-pencil-square>\n      <!-- Show form if note.edit is true -->\n      <b-form @submit=\"editNote(note._id, note.content, index)\" v-if=\"note.edit === true\">\n        <b-form-textarea\n        id=\"textarea\"\n        v-model=\"note.content\"\n        placeholder=\"Enter something...\"\n        rows=\"3\"\n        max-rows=\"6\"\n        ></b-form-textarea>\n        <b-button type=\"submit\" variant=\"info\">Save</b-button>\n      </b-form>\n       <!-- if note.edit is false, show simple content -->\n      <b-card-text v-else> {{ note.content }}</b-card-text>\n      <b-card-text>{{ note.writer }}</b-card-text>\n      <div class=\"button-form\">\n        <router-link v-bind:to=\"'notes/' + note._id\">\n          <b-button type =\"submit\" variant=\"outline-info\">Edit note</b-button>\n        </router-link>\n      </div>\n    </b-card>\n  </b-card-group>\n  </div>\n  <div class=\"button-form\">\n    <b-form @submit=\"deleteNotes\">\n    <b-button type=\"submit\" variant=\"danger\">Delete all notes</b-button>\n    </b-form>\n  </div>\n</div>\n</template>\n\n<script>\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'note',\n  data() {\n    return {\n      notes: [],\n      form: {\n        headline: '',\n        content: '',\n        writer: ''\n      }\n    }\n  },\n  methods: {\n    addNote(event) {\n      event.preventDefault()\n      Api.post('notes', this.form)\n        .then(() => {\n          this.getAllNotes()\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n      this.form.headline = ''\n      this.form.content = ''\n      this.form.writer = ''\n    },\n    deleteNotes() {\n      Api.delete('notes')\n        .then(() => {\n          this.getAllNotes()\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n    },\n    editNote(id, content, index) {\n      Api.patch('notes/' + id, { content })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n      // Hide form for note\n      this.$set(this.notes[index], 'edit', false)\n    },\n    getAllNotes() {\n      Api.get('notes')\n        .then((response) => {\n          // map each note from backend to also have edit = false property after fetching them\n          this.notes = response.data.notes.map((note) => ({ ...note, edit: false }))\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n    },\n    // set a note to edit mode (show form for a note. Toggle UI)\n    setNoteEditMode(index) {\n      this.$set(this.notes[index], 'edit', !this.notes[index].edit)\n    }\n  },\n  mounted() {\n    this.getAllNotes()\n  }\n}\n\n</script>\n\n<style>\n.header3{\n   background-image: linear-gradient(rgba(3, 3, 3, 0.7), rgba(3, 3, 3, 0.7)), url(../assets/img-14.jpg);\n    background-size: cover;\n    background-position: center;\n    height: 50vh;\n    background-attachment: fixed;\n    color: white;\n}\n\n.header3-text{\nheight: 100%;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\n}\n\n.container-note{\ndisplay: flex;\njustify-content: center;\nflex-direction: column;\nmargin: 36px;\n}\n\n.note-form{\n  margin: 64px;\n}\n\n.button-form{\nmargin: 24px 0 auto;\npadding: 8px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n}\n\n.container-cards{\n  display: flex;\n  flex-direction: row;\n  justify-self: flex-start, space-evenly;\n  flex-wrap: wrap;\n  align-items: stretch;\n  align-content: flex-start;\n  row-gap: 20px;\n  column-gap: 20px;\n}\n\n.card-group{\nwidth: 32%;\n}\n\n@media screen and (max-width: 1050px) {\n  .container-cards {\n    flex-direction: column;\n  }\n  .card-group {\n    width: 100%;\n  }\n}\n</style>\n"]}]}