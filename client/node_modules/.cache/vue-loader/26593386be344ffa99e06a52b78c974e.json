{"remainingRequest":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emilieanthony/Projects/group-01-web/client/src/views/Note.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/emilieanthony/Projects/group-01-web/client/src/views/Note.vue","mtime":1634659787475},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhlYWRlcjN7CiAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChyZ2JhKDMsIDMsIDMsIDAuNyksIHJnYmEoMywgMywgMywgMC43KSksIHVybCguLi9hc3NldHMvaW1nLTE0LmpwZyk7CiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOwogICAgaGVpZ2h0OiA1MHZoOwogICAgYmFja2dyb3VuZC1hdHRhY2htZW50OiBmaXhlZDsKICAgIGNvbG9yOiB3aGl0ZTsKfQoKQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHsKICAuaGVhZGVyMyB7CiAgICBkaXNwbGF5OiBub25lOwogIH0KfQoKQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHsKICAuZGVza3RvcC1oaWRkZW57CiAgICBkaXNwbGF5OiBub25lOwogIH0KfQoKLmhlYWRlcjMtdGV4dHsKaGVpZ2h0OiAxMDAlOwpkaXNwbGF5OiBmbGV4OwpqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKYWxpZ24taXRlbXM6IGNlbnRlcjsKZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQoKLmNvbnRhaW5lci1ub3RlewpkaXNwbGF5OiBmbGV4OwpqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKbWFyZ2luOiAxMnB4Owp9Cgoubm90ZS1mb3JtewogIG1hcmdpbjogNjRweDsKfQoKLmJ1dHRvbi1mb3JtewptYXJnaW46IDI0cHggMCBhdXRvOwpwYWRkaW5nOiA4cHg7CmRpc3BsYXk6IGZsZXg7Cmp1c3RpZnktY29udGVudDogY2VudGVyOwphbGlnbi1pdGVtczogY2VudGVyOwpmbGV4LWRpcmVjdGlvbjogcm93Owp9CgojZGVsZXRlewogIG1hcmdpbjogMTJweDsKfQoKLmNvbnRhaW5lci1jYXJkc3sKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAganVzdGlmeS1zZWxmOiBmbGV4LXN0YXJ0LCBzcGFjZS1ldmVubHk7CiAgZmxleC13cmFwOiB3cmFwOwogIGFsaWduLWl0ZW1zOiBzdHJldGNoOwogIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7CiAgcm93LWdhcDogMjBweDsKICBjb2x1bW4tZ2FwOiAyMHB4Owp9CgouY2FyZC1ncm91cHsKd2lkdGg6IDMyJTsKfQoKQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTA1MHB4KSB7CiAgLmNvbnRhaW5lci1jYXJkcyB7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIH0KICAuY2FyZC1ncm91cCB7CiAgICB3aWR0aDogMTAwJTsKICB9Cn0K"},{"version":3,"sources":["Note.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Note.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div class=\"container-note\">\n  <div class=\"header3\">\n    <div class=\"header3-text\">\n    <h1>Community Board</h1>\n    <p id=\"share\">Share your thoughts with your neighbours!</p>\n    </div>\n    </div>\n    <h1 class=\"desktop-hidden\">Community Board</h1>\n    <div class =\"note-form\">\n     <b-form @submit=\"addNote\">\n    <b-form-group id = \"input-group-1\" label =\"Headline\">\n      <b-form-input id= \"input-1\" v-model=\"form.headline\" type=\"text\" placeholder=\"Enter a headline\">\n      </b-form-input>\n    </b-form-group>\n    <b-form-group id =\"input-group-2\" label =\"Content\">\n      <b-form-textarea\n      id=\"textarea\"\n      v-model=\"form.content\"\n      placeholder=\"Enter something...\"\n      rows=\"3\"\n      max-rows=\"6\"\n    ></b-form-textarea>\n    </b-form-group>\n    <b-form-group id=\"input-group-3\" label=\"Name\">\n    <b-form-input v-model=\"form.writer\" type=\"text\" placeholder=\"Enter your name\"></b-form-input>\n    </b-form-group>\n    <b-button type=\"submit\" variant=\"info\">Add new note</b-button>\n  </b-form>\n  </div>\n  <div class=\"container-cards\">\n  <b-card-group v-for=\"(note, index) in notes\" :key=\"note._id\">\n    <b-card v-bind:title=\"note.headline\">\n      <b-icon-pencil-square v-on:click=\"setNoteEditMode(index)\"></b-icon-pencil-square>\n      <!-- Show form if note.edit is true -->\n      <b-form @submit=\"editNote(note._id, note.content, index)\" v-if=\"note.edit === true\">\n        <b-form-textarea\n        id=\"textarea\"\n        v-model=\"note.content\"\n        placeholder=\"Enter something...\"\n        rows=\"3\"\n        max-rows=\"6\"\n        ></b-form-textarea>\n        <b-button type=\"submit\" variant=\"info\">Save</b-button>\n      </b-form>\n       <!-- if note.edit is false, show simple content -->\n      <b-card-text v-else> {{ note.content }}</b-card-text>\n      <b-card-text>{{ note.writer }}</b-card-text>\n      <div class=\"button-form\">\n      <router-link v-bind:to=\"'notes/' + note._id\">\n        <b-button type =\"submit\" variant=\"outline-info\">Edit note</b-button>\n      </router-link>\n      <b-form @submit=\"deleteNoteById(note._id, index)\">\n    <b-button id=\"delete\" type =\"submit\" variant=\"danger\">Delete</b-button>\n    </b-form>\n      </div>\n    </b-card>\n  </b-card-group>\n  </div>\n  <div class=\"button-form\">\n    <b-form @submit=\"deleteNotes\">\n    <b-button type=\"submit\" variant=\"danger\">Delete all notes</b-button>\n    </b-form>\n  </div>\n</div>\n</template>\n\n<script>\nimport { Api } from '@/Api'\n\nexport default {\n  name: 'note',\n  data() {\n    return {\n      notes: [],\n      form: {\n        headline: '',\n        content: '',\n        writer: ''\n      }\n    }\n  },\n  methods: {\n    addNote(event) {\n      event.preventDefault()\n      Api.post('notes', this.form)\n        .then(() => {\n          this.getAllNotes()\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n      this.form.headline = ''\n      this.form.content = ''\n      this.form.writer = ''\n    },\n    deleteNotes() {\n      Api.delete('notes')\n        .then(() => {\n          this.getAllNotes()\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n    },\n    deleteNoteById(id) {\n      Api.delete('notes/' + id)\n        .then(() => {\n          const index = this.notes.findIndex(note => note._id === id)\n          this.notes.splice(index, 1)\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n    },\n    editNote(id, content, index) {\n      Api.patch('notes/' + id, { content })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n      // Hide form for note\n      this.$set(this.notes[index], 'edit', false)\n    },\n    getAllNotes() {\n      Api.get('notes')\n        .then((response) => {\n          // map each note from backend to also have edit = false property after fetching them\n          this.notes = response.data.notes.map((note) => ({ ...note, edit: false }))\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n    },\n    // set a note to edit mode (show form for a note. Toggle UI)\n    setNoteEditMode(index) {\n      this.$set(this.notes[index], 'edit', !this.notes[index].edit)\n    }\n  },\n  mounted() {\n    this.getAllNotes()\n  }\n}\n\n</script>\n\n<style>\n.header3{\n   background-image: linear-gradient(rgba(3, 3, 3, 0.7), rgba(3, 3, 3, 0.7)), url(../assets/img-14.jpg);\n    background-size: cover;\n    background-position: center;\n    height: 50vh;\n    background-attachment: fixed;\n    color: white;\n}\n\n@media screen and (max-width: 768px) {\n  .header3 {\n    display: none;\n  }\n}\n\n@media screen and (min-width: 768px) {\n  .desktop-hidden{\n    display: none;\n  }\n}\n\n.header3-text{\nheight: 100%;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\n}\n\n.container-note{\ndisplay: flex;\njustify-content: center;\nflex-direction: column;\nmargin: 12px;\n}\n\n.note-form{\n  margin: 64px;\n}\n\n.button-form{\nmargin: 24px 0 auto;\npadding: 8px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: row;\n}\n\n#delete{\n  margin: 12px;\n}\n\n.container-cards{\n  display: flex;\n  flex-direction: row;\n  justify-self: flex-start, space-evenly;\n  flex-wrap: wrap;\n  align-items: stretch;\n  align-content: flex-start;\n  row-gap: 20px;\n  column-gap: 20px;\n}\n\n.card-group{\nwidth: 32%;\n}\n\n@media screen and (max-width: 1050px) {\n  .container-cards {\n    flex-direction: column;\n  }\n  .card-group {\n    width: 100%;\n  }\n}\n</style>\n"]}]}