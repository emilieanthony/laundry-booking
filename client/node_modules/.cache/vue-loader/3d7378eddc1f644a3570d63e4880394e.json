{"remainingRequest":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emilieanthony/Projects/group-01-web/client/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/emilieanthony/Projects/group-01-web/client/src/views/Home.vue","mtime":1634587027996},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilieanthony/Projects/group-01-web/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQm9va2luZ0l0ZW0gZnJvbSAnLi4vY29tcG9uZW50cy9Cb29raW5nSXRlbS52dWUnCmltcG9ydCB7IEFwaSB9IGZyb20gJ0AvQXBpJwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IHsgQkNhcmQsIEJOYXZiYXIgfSBmcm9tICdib290c3RyYXAtdnVlJwpWdWUuY29tcG9uZW50KCdiLWNhcmQnLCBCQ2FyZCkKVnVlLmNvbXBvbmVudCgnYi1uYXZiYXInLCBCTmF2YmFyKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdib29raW5ncycsCiAgY29tcG9uZW50czogewogICAgJ2Jvb2tpbmctaXRlbSc6IEJvb2tpbmdJdGVtCiAgfSwKICBtb3VudGVkKCkgewogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIEFwaS5nZXQoJ3VzZXJzLycgKyBsb2NhbFN0b3JhZ2UudXNlcklkICsgJy9ib29raW5ncycpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5ib29raW5ncyA9IHJlc3BvbnNlLmRhdGEuYm9va2luZ3MKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmJvb2tpbmdzID0gW10KICAgICAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLicsIHsKICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICBhdXRvSGlkZURlbGF5OiA1MDAwLAogICAgICAgICAgICBhcHBlbmRUb2FzdDogdHJ1ZQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgfSwgMzAwKQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2tpbmdzOiBbXSwKICAgICAgbmFtZTogbG9jYWxTdG9yYWdlLm5hbWUsCiAgICAgIHdlbGNvbWVNZXNzYWdlOiAnSGVsbG8sICcgKyBsb2NhbFN0b3JhZ2UubmFtZSArICchJwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlQm9va2luZyhpZCkgewogICAgICBjb25zb2xlLmxvZyhgRGVsZXRlIGJvb2tpbmcgd2l0aCBpZCAke2lkfWApCiAgICAgIEFwaS5kZWxldGUoYC9ib29raW5ncy8ke2lkfWApCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmJvb2tpbmdzLmZpbmRJbmRleChib29raW5nID0+IGJvb2tpbmcuX2lkID09PSBpZCkKICAgICAgICAgIHRoaXMuYm9va2luZ3Muc3BsaWNlKGluZGV4LCAxKQogICAgICAgIH0pCiAgICB9LAogICAgbG9nb3V0KGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UudG9rZW4gPSBudWxsCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kYnZUb2FzdC50b2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJywgewogICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgIGF1dG9IaWRlRGVsYXk6IDMwMDAsCiAgICAgICAgICAgIGFwcGVuZFRvYXN0OiB0cnVlCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class =\"container-home\">\n    <div class=\"header\">\n      <div class=\"text-box\">\n        <h1>{{welcomeMessage}}</h1>\n          <div class=\"button-header\">\n            <router-link to=\"/bookings\"><b-button type=\"submit\" variant=\"info\">New booking</b-button></router-link>\n          </div>\n      </div>\n    </div>\n    <div class=\"booking-box\">\n       <h2> Your bookings</h2>\n       <p v-if=\"bookings.length === 0\">You have no current bookings</p>\n      <b-card-group v-else deck v-for=\"booking in bookings\" v-bind:key=\"booking._id\">\n            <div class=\"booking-card\">\n            <b-card border-variant=\"secondary\"\n                     align=\"center\">\n            <booking-item v-bind:booking=\"booking\" v-on:del-booking=\"deleteBooking\"/>\n            <div id=\"card-text\">\n            <h3>Booking Nr: {{bookings.indexOf(booking) + 1 }}</h3>\n               <h5>Date:</h5>\n                <p>{{new Date(booking.date).toLocaleString()}} </p>\n               <h5> Laundry room: </h5>\n                <p> {{booking.laundryroom}}</p>\n            </div>\n        </b-card>\n        </div>\n      </b-card-group>\n      </div>\n      </div>\n</template>\n\n<script>\n\nimport BookingItem from '../components/BookingItem.vue'\nimport { Api } from '@/Api'\nimport Vue from 'vue'\nimport { BCard, BNavbar } from 'bootstrap-vue'\nVue.component('b-card', BCard)\nVue.component('b-navbar', BNavbar)\n\nexport default {\n  name: 'bookings',\n  components: {\n    'booking-item': BookingItem\n  },\n  mounted() {\n    setTimeout(() => {\n      Api.get('users/' + localStorage.userId + '/bookings')\n        .then(response => {\n          this.bookings = response.data.bookings\n        })\n        .catch(() => {\n          this.bookings = []\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 5000,\n            appendToast: true\n          })\n        })\n    }, 300)\n  },\n  data() {\n    return {\n      bookings: [],\n      name: localStorage.name,\n      welcomeMessage: 'Hello, ' + localStorage.name + '!'\n    }\n  },\n  methods: {\n    deleteBooking(id) {\n      console.log(`Delete booking with id ${id}`)\n      Api.delete(`/bookings/${id}`)\n        .then(response => {\n          const index = this.bookings.findIndex(booking => booking._id === id)\n          this.bookings.splice(index, 1)\n        })\n    },\n    logout(event) {\n      event.preventDefault()\n        .then(response => {\n          localStorage.token = null\n        })\n        .catch(() => {\n          this.$bvToast.toast('Something went wrong. Please try again.', {\n            title: 'Error',\n            variant: 'danger',\n            autoHideDelay: 3000,\n            appendToast: true\n          })\n        })\n    }\n  }\n}\n</script>\n\n<style>\n.container-home{\ndisplay: flex;\njustify-content: center;\nflex-direction: column;\n}\n\n.header{\n  background-image: linear-gradient(rgba(2, 2, 2, 0.7), rgba(3, 3, 3, 0.7)), url(../assets/img-1.jpg);\n  background-size: cover;\n  background-position: center;\n  height: 50vh;\n  background-attachment: fixed;\n  color: white;\n}\n\n.text-box{\nheight: 100%;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\n}\n\n.booking-box{\nmargin: 64px 12px 64px 12px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\n\n}\n\n.booking-card{\nwidth: 75vw;\nmargin: 24px;\ntext-align: left;\ndisplay: flex;\nflex-direction: column;\n}\n\n.card-body{\n  text-align: left;\n  background-color: #fefefe;\n  border-radius: 24px;\n}\n\n.button-header{\n  margin-top: 24px;\n}\n\n#card-text{\n  color: rgb(53, 52, 52);\n}\n\nh1 {\n font-family: Verdana;\n}\n</style>\n"]}]}